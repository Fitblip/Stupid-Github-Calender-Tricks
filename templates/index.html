<html>
  <head>
    <link rel="stylesheet" href="../static/css/cal-heatmap.css">
    <link rel="stylesheet" href="../static/css/main.css">
  </head>
  <body>
  <script type="text/javascript" src="//d3js.org/d3.v3.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="../static/js/cal-heatmap.js"></script>

  <div style="
  position: relative;
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 935px;
  top: 20%;
  " id="cal-heatmap"></div>
  <script type="text/javascript">
    var cal = new CalHeatMap();
    var currentDate = new Date();
    currentDate.setFullYear(currentDate.getFullYear()-1);
    cal.init({
      data: "/data.json",
      weekStartOnMonday: false,
      legend: [3, 7, 10],
      cellSize: 15,
      displayLegend: false,
      //considerMissingDataAsZero: true,
	legendColors: {
		min: "#d6e685",
		max: "#1e6823",
		empty: "#eee"
		// Will use the CSS for the missing keys
	},
     // domain: "month",
      domain: "week",
      range: 52,
      subDomain: "day",
      cellPadding: 1,
      tooltip: true,
      domainLabelFormat: "",
      start: currentDate,
      dataType: "json",

      onClick: function(date, nb) {
        if (event.target.style.fill == ""){
          event.target.style.fill = "black"
        } else {
          event.target.style.fill = ""
        }

      }

    });
  </script>


  </body>
</html>